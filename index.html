<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LightsBlocker - Official Site</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="loading-overlay" class="hidden">
    <img src="loading.png" alt="Carregando..." class="spinner">
</div>

<nav id="navbar" class="hidden">
    <a onclick="showPage('download')">Download</a>
    <a onclick="showPage('community')">Comunidade</a>
    <a onclick="showPage('support')">Suporte</a>
    <a onclick="logout()">Sair</a>
</nav>

<div id="auth-page" class="container hidden">
    <div id="login-view">
        <h2 style="color: var(--green)">LightsBlocker Login</h2>
        <div class="auth-box">
            <input type="text" id="l-user" placeholder="Usu√°rio">
            <input type="password" id="l-pass" placeholder="Senha">
            <button onclick="doLogin()">Entrar</button>
        </div>
        <p style="text-align: center">N√£o tem conta? <a href="#" onclick="toggleAuth(true)" style="color: var(--yellow)">Criar conta</a></p>
    </div>
    <div id="signup-view" class="hidden">
        <h2 style="color: var(--yellow)">Criar Conta</h2>
        <div class="auth-box">
            <input type="text" id="s-user" placeholder="Usu√°rio">
            <input type="email" id="s-email" placeholder="E-mail">
            <input type="tel" id="s-tel" placeholder="Telefone">
            <input type="password" id="s-pass" placeholder="Senha">
            <input type="password" id="s-pass2" placeholder="Confirmar Senha">
            <button class="secondary" onclick="doSignup()">Cadastrar</button>
        </div>
        <p style="text-align: center"><a href="#" onclick="toggleAuth(false)" style="color: var(--green)">Voltar ao Login</a></p>
    </div>
</div>

<div id="main-content" class="hidden">
    <div id="page-download" class="page store-page container">
        <h1 style="color: var(--green)">LightsBlocker App</h1>
        <p>Ajuste autom√°tico de brilho e bloqueio de luz azul.</p>
        <div class="screenshots">
            <img src="screenshot1.png" alt="Screen 1">
            <img src="screenshot2.png" alt="Screen 2">
            <img src="screenshot3.png" alt="Screen 3">
        </div>
        <button style="font-size: 1.1rem; margin-top: 20px;" onclick="showTerms()">Download APK Release</button>
    </div>

    <div id="page-community" class="page container hidden">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h2 style="color: var(--green); margin:0;">Comunidade</h2>
            <button onclick="showNewPost()" style="width: 45px; height: 45px; border-radius: 50%; font-size: 20px; padding:0;">+</button>
        </div>
        <div id="posts-list"></div>
    </div>

    <div id="page-new-post" class="page container hidden">
        <button onclick="showPage('community')" class="danger" style="width: auto; margin-bottom: 15px;">Cancelar</button>
        <input type="text" id="post-title" placeholder="T√≠tulo do seu post" style="width:100%; padding:12px; background:#111; color:white; border:1px solid #333; margin-bottom:10px;">
        <div style="margin-bottom: 15px;">
            <label>Cor da categoria: </label>
            <select id="post-cat" style="background: #222; color: white; padding: 8px; border-radius: 4px;">
                <option value="üü¢">üü¢ Verde</option>
                <option value="üü°">üü° Amarelo</option>
                <option value="üü§">üü§ Marrom</option>
            </select>
        </div>
        <div class="toolbar">
            <button onclick="execCmd('bold')">B</button>
            <button onclick="execCmd('italic')">I</button>
            <button onclick="execCmd('underline')">U</button>
        </div>
        <div id="editor" contenteditable="true"></div>
        <button onclick="submitPost()">Publicar na Comunidade</button>
    </div>

    <div id="page-post-detail" class="page container hidden">
        <button onclick="showPage('community')" style="width: auto; background: #333; margin-bottom: 20px;">‚Üê Voltar</button>
        <div id="full-post-content"></div>
        <hr style="border-color: #222; margin: 25px 0;">
        <h3>Coment√°rios</h3>
        <div id="comments-list"></div>
        <div style="position: relative; margin-top: 20px;">
            <div style="display: flex; gap: 8px;">
                <input type="text" id="comment-text" placeholder="Comentar..." style="flex:1; background:#111; border:1px solid #333; color:white; padding:10px; border-radius:6px;">
                <button onclick="toggleEmoji()" style="width: auto; background: #222;">üòä</button>
                <button onclick="sendComment()" style="width: auto;">Enviar</button>
            </div>
            <div id="emoji-box" class="emoji-picker hidden"></div>
        </div>
    </div>

    <div id="page-support" class="page container hidden">
        <h2 style="color: var(--red)">Suporte T√©cnico</h2>
        <input type="text" id="sup-subject" placeholder="Qual o problema?" style="width:100%; padding:12px; background:#111; color:white; border:1px solid #333; margin-bottom:10px;">
        <textarea id="sup-msg" rows="6" style="width: 100%; background: #111; color: white; border: 1px solid var(--border); padding: 12px; border-radius: 6px; box-sizing: border-box;" placeholder="Descreva com detalhes..."></textarea>
        <button onclick="alert('Recebemos sua mensagem! Verifique seu e-mail em at√© 24h.')">Enviar E-mail</button>
    </div>
</div>

<div id="modal-terms" class="modal hidden">
    <div class="modal-content">
        <h3>Termos de Uso</h3>
        <div style="height: 200px; overflow-y: auto; text-align: left; font-size: 0.85rem; padding: 10px; background: #0a0a0a; margin-bottom: 20px; color: #ccc;">
            <p>1. O LightsBlocker solicita permiss√£o de sobreposi√ß√£o para aplicar filtros.</p>
            <p>2. N√£o coletamos dados pessoais fora do cadastro da comunidade.</p>
            <p>3. O uso prolongado do app n√£o substitui consultas oftalmol√≥gicas.</p>
            <p>4. Ao clicar em concordar, o download do arquivo .apk ser√° iniciado.</p>
        </div>
        <button onclick="startDownload()">Li e concordo - Baixar</button>
        <button class="danger" onclick="hideTerms()">Cancelar</button>
    </div>
</div>

<script src="https://apis.google.com/js/api.js"></script>
<script src="script.js"></script>
</body>
</html>
